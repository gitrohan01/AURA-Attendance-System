{% extends "attendance/base.html" %}
{% block title %}Manage Departments â€” AURA{% endblock %}

{% block content %}

<h1 class="text-3xl font-bold text-sky-400 mb-6">Manage Departments</h1>

<div class="flex justify-end mb-6">
    <a href="{% url 'hod_add_department' %}" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded">
        + Add Department
    </a>
</div>

<div class="bg-white/5 border border-white/10 rounded-xl p-5 overflow-x-auto">
    <table class="w-full text-sm">
        <thead>
            <tr class="text-gray-400 border-b border-white/10">
                <th class="p-2 text-left">Name</th>
                <th class="p-2 text-left">Code</th>
                <th class="p-2 text-right">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for d in departments %}
            <tr class="border-b border-white/5">
                <td class="p-2">{{ d.name }}</td>
                <td class="p-2">{{ d.code|default:"-" }}</td>
                <td class="p-2 text-right">
                    <a href="{% url 'hod_edit_department' d.id %}"
                       class="px-3 py-1 bg-sky-600 hover:bg-sky-700 rounded text-xs">Edit</a>

                    <a href="{% url 'hod_delete_department' d.id %}"
                       class="px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-xs"
                       onclick="return confirm('Delete this department?')">Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="3" class="text-center py-4 text-gray-400">No departments found.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
